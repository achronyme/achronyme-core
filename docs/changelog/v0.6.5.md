---
version: "0.6.5"
date: 2025-11-23
title: "Async/Await, Concurrency & Reactive System"
description: "Introduction of full asynchronous programming, concurrency primitives, and a fine-grained reactive system for UI development"
breaking: true
status: "Released"
highlights:
  - "Async/Await Syntax & Runtime"
  - "Concurrency Primitives (spawn, channel, mutex)"
  - "Fine-Grained Reactive System (Signals & Effects)"
  - "Register-based Virtual Machine (VM)"
  - "Runtime Cleanup (Removed stdlib & Edge type)"
  - "Intrinsic Methods for Data Types"
---

## ðŸš€ Major Changes

### Async/Await & Concurrency
Achronyme now supports first-class asynchronous programming and concurrency, enabling non-blocking execution and parallel tasks.

- **Async/Await:** `async` functions and `await` expressions for clean asynchronous code.
- **Non-blocking Runtime:** Powered by a Tokio-based event loop.
- **`spawn(task)`:** Launch lightweight concurrent tasks (green threads).
- **Channels:** Unbounded MPSC channels for safe message passing (`channel()`, `send()`, `recv()`).
- **AsyncMutex:** Thread-safe shared state management with automatic guard release.
- **Async I/O:** Non-blocking `sleep()` and `read_file()` operations.

### Reactive System (Signals & Effects)
A built-in fine-grained reactivity system inspired by SolidJS, designed for building responsive User Interfaces.

- **Signals:** Reactive data containers (`signal(initial_value)`).
- **Effects:** Functions that automatically re-run when their dependencies change (`effect(() => ...)`).
- **Automatic Dependency Tracking:** No need to manually list dependencies; reading a signal's `.value` inside an effect automatically subscribes it.
- **Peek:** Read values without tracking (`.peek()`) to avoid update cycles.

### Register-based Virtual Machine
The execution engine has been completely migrated from a Tree-Walker interpreter to a high-performance Register-based Virtual Machine (VM). This architectural shift lays the foundation for advanced features like proper async/await, generators, and optimized bytecode execution.

### Runtime Cleanup
- **Removed Standard Library (stdlib):** The legacy standard library has been removed in favor of a leaner, more integrated runtime.
- **Removed `Edge` type:** Simplified the type system by removing the experimental `Edge` type.

### Intrinsic Methods
Introduced native intrinsic methods directly on data types, providing a more object-oriented feel and better performance for core operations on Strings, Vectors, and other built-ins.

## ðŸ›  Improvements & Fixes

- **Complex Number Support:** Enhanced mathematical built-ins (`sum`, `dot`, `norm`, etc.) to fully support complex numbers.
- **Test Suite:** Comprehensive fixes and improvements to the test suite, ensuring zero false positives and covering new VM paths.
- **Code Examples:** Cleaned up and updated example scripts to reflect the current language syntax and features.
- **CI Process:** Streamlined and cleaned up the Continuous Integration pipeline for faster and more reliable builds.

## Technical Details

### Virtual Machine Architecture
- **Register-based:** Uses a fixed set of registers for operation, reducing memory traffic compared to stack-based VMs.
- **Bytecode Compilation:** Source code is compiled to an efficient bytecode format before execution.
- **Unified Value System:** The `Value` enum has been optimized for the new VM architecture.

### Complex Number Integration
- **Seamless Arithmetic:** Mathematical operations (`+`, `-`, `*`, `/`, `^`) automatically handle mixed real and complex operands.
- **Built-in Functions:** Functions like `abs()`, `sqrt()`, `exp()`, `ln()`, `sin()`, `cos()` now return correct complex results for negative/complex inputs.
- **Linear Algebra:** Vector operations (`dot`, `norm`, `normalize`) are fully complex-aware.

## Migration Notes

### Breaking Changes
- **Removed `Edge` type:** Any code relying on the `Edge` type or graph-specific syntax associated with it will need refactoring.
- **Removed `stdlib`:** Functions previously imported from the standard library are either now built-in or need to be reimplemented.

### Upgrading
No special steps required beyond updating the binary. Existing scripts compatible with the core language syntax will benefit from immediate performance improvements.
