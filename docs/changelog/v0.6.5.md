---
version: "0.6.5"
date: 2025-11-23
title: "Register-Based VM, Intrinsic Methods & Runtime Cleanup"
description: "Migration to a high-performance register-based virtual machine, removal of legacy components, and introduction of native intrinsic methods"
breaking: true
status: "Released"
highlights:
  - "Register-based Virtual Machine (VM)"
  - "Runtime Cleanup (Removed stdlib & Edge type)"
  - "Intrinsic Methods for Data Types"
  - "Complex Number Support in Builtins"
  - "Test Suite Overhaul"
  - "CI Pipeline Optimization"
---

## ðŸš€ Major Changes

### Register-based Virtual Machine
The execution engine has been completely migrated from a Tree-Walker interpreter to a high-performance Register-based Virtual Machine (VM). This architectural shift lays the foundation for advanced features like proper async/await, generators, and optimized bytecode execution.

### Runtime Cleanup
- **Removed Standard Library (stdlib):** The legacy standard library has been removed in favor of a leaner, more integrated runtime.
- **Removed `Edge` Type:** Simplified the type system by removing the experimental `Edge` type.

### Intrinsic Methods
Introduced native intrinsic methods directly on data types, providing a more object-oriented feel and better performance for core operations on Strings, Vectors, and other built-ins.

## ðŸ›  Improvements & Fixes

- **Complex Number Support:** Enhanced mathematical built-ins (`sum`, `dot`, `norm`, etc.) to fully support complex numbers.
- **Test Suite:** Comprehensive fixes and improvements to the test suite, ensuring zero false positives and covering new VM paths.
- **Code Examples:** Cleaned up and updated example scripts to reflect the current language syntax and features.
- **CI Process:** Streamlined and cleaned up the Continuous Integration pipeline for faster and more reliable builds.

## Technical Details

### Virtual Machine Architecture
- **Register-based:** Uses a fixed set of registers for operation, reducing memory traffic compared to stack-based VMs.
- **Bytecode Compilation:** Source code is compiled to an efficient bytecode format before execution.
- **Unified Value System:** The `Value` enum has been optimized for the new VM architecture.

### Complex Number Integration
- **Seamless Arithmetic:** Mathematical operations (`+`, `-`, `*`, `/`, `^`) automatically handle mixed real and complex operands.
- **Built-in Functions:** Functions like `abs()`, `sqrt()`, `exp()`, `ln()`, `sin()`, `cos()` now return correct complex results for negative/complex inputs.
- **Linear Algebra:** Vector operations (`dot`, `norm`, `normalize`) are fully complex-aware.

## Migration Notes

### Breaking Changes
- **Removed `Edge` type:** Any code relying on the `Edge` type or graph-specific syntax associated with it will need refactoring.
- **Removed `stdlib`:** Functions previously imported from the standard library are either now built-in or need to be reimplemented.

### Upgrading
No special steps required beyond updating the binary. Existing scripts compatible with the core language syntax will benefit from immediate performance improvements.
